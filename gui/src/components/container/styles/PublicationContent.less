@import (reference) "../../../theming/styles.less";
@import (reference) "../../presentation/styles/TopBar.less";
@tocWidth: 300px;
@contentNavWidth: 210px;
@defaultMargin: 15px;
.sdl-dita-delivery-publication-content {
    position: relative;
    height: 100%;
    .sdl-dita-delivery-page {
        max-width: @screenXl;
        margin: 0 auto;
        position: relative;
        .sdl-dita-delivery-navigation-menu {
            width: @tocWidth;
            float: left;
            position: inherit;
            left: 0;
            nav.sdl-dita-delivery-toc {
                margin-left: @defaultMargin;
                margin-right: @defaultMargin;
                > span:first-child, .sdl-treeview {
                    // Inherit max-height from toc panel, needed for scroll bar / separator using vertical space
                    max-height: inherit;
                    width: @tocWidth - (@defaultMargin * 2);
                }
                .separator {
                    position: absolute;
                    top: 0;
                    bottom: 0;
                    margin-left: @tocWidth - 5;
                    width: 10px;
                    box-shadow: -5px 0px 10px 0px fade(@neutralColor1, 10);
                    @media screen and (max-width: @screenSm) {
                        display: none;
                    }
                }
            }
        }
        .sdl-dita-delivery-content-navigation {
            width: @contentNavWidth;
            float: right;
            overflow: auto;
        }
        nav.sdl-dita-delivery-toc, nav.sdl-dita-delivery-content-navigation {
            min-height: 100px;
        }
        @media screen and (min-width: (1+@screenSm)) {
            .sdl-dita-delivery-navigation-menu {
                /* Remove transition and zindex */
                transition: none;
                z-index: auto;
            }
        }
        @media screen and (min-width: (1+@screenLg)) {
            nav.sdl-dita-delivery-content-navigation {
                top: 0;
                position: absolute;
                left: calc(100% ~"-" @contentNavWidth);
            }
        }
        .sdl-dita-delivery-breadcrumbs {
            padding-bottom: 15px;
            margin-left: @tocWidth + @defaultMargin;
            margin-right: @contentNavWidth + @defaultMargin;
        }
        article.page-content {
            margin-left: @tocWidth + @defaultMargin;
            margin-right: @contentNavWidth + @defaultMargin;
            min-height: 100px;
        }
    }
}

@media screen and (max-width: @screenLg) {
    .sdl-dita-delivery-publication-content {
        .sdl-dita-delivery-page {
            .sdl-dita-delivery-breadcrumbs, article.page-content {
                margin-right: 0;
            }
            nav.sdl-dita-delivery-content-navigation {
                float: none;
                max-width: ~"calc(100% - @{tocWidth} - (@{defaultMargin} * 2))";
                min-width: ~"calc(80% - @{tocWidth} - (@{defaultMargin} * 2))";
                margin-left: @tocWidth + (@defaultMargin * 2);
            }
        }
    }
}

@media screen and (max-width: @screenSm) {
    .sdl-dita-delivery-publication-content {
        .sdl-dita-delivery-page {
            position: initial;
            .sdl-dita-delivery-navigation-menu {
                position: fixed;
                left: @tocWidth * -1;
                &.open {
                    left: 0;
                }
                nav.sdl-dita-delivery-toc {
                    margin: 0;
                    height: 100%;
                    > span:first-child, .sdl-treeview {
                        width: 100%;
                    }
                }
            }
            .sdl-dita-delivery-breadcrumbs, article.page-content, nav.sdl-dita-delivery-content-navigation {
                margin-left: 0;
            }
            .sdl-dita-delivery-breadcrumbs {
                padding-bottom: @defaultMargin;
            }
            nav.sdl-dita-delivery-content-navigation {
                max-width: ~"calc(100% - @{defaultMargin})";
                width: ~"calc(100% - @{defaultMargin})";
                margin-left: @defaultMargin;
            }
        }
    }
}
